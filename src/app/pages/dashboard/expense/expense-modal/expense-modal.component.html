<div class="container text-center">
    <h2 mat-dialog-title>Add Monthly Expense Allocation</h2>
    <mat-dialog-content>
        <form [formGroup]="expenseForm" (ngSubmit)="onSubmit()">
            <div class="form-group">
                <label for="category">Select a category:</label>
                <select
                    id="category"
                    name="category"
                    formControlName="category"
                    required>
                    <option
                        *ngFor="let option of categoryOptions"
                        [value]="option.value">
                        {{ option.label }}
                    </option>
                </select>
                <br />
                <!-- Display error message if the category already exists -->
                <mat-error
                    class="error-message"
                    *ngIf="
                        (shouldShowError('category', 'required') ||
                            !expenseForm.get('category')?.value) ||
                        (shouldShowError('amount', 'required') ||
                            !expenseForm.get('amount')?.value)
                    ">
                    Category is required
                </mat-error>
                <mat-error class="error-message" *ngIf="categoryExistsError">
                    Category has already been set,<br />
                    edit on the manage page.
                </mat-error>
            </div>
            <div class="form-group">
                <label for="amount">Amount (R)</label>
                <input
                    matInput
                    formControlName="amount"
                    name="categoryName"
                    [(ngModel)]="formData.amount"
                    required /><br />
                <!-- Display error message if either the category or the amount is required -->
                <mat-error
                    class="error-message"
                    *ngIf="
                        (shouldShowError('category', 'required') ||
                            !expenseForm.get('category')?.value) ||
                        (shouldShowError('amount', 'required') ||
                            !expenseForm.get('amount')?.value)
                    ">
                    Amount is required
                </mat-error>
                <mat-error
                    class="error-message"
                    *ngIf="shouldShowError('amount', 'pattern')">
                    Amount can only contain numbers
                </mat-error>
            </div>
            <button mat-button (click)="onNoClick()">Close</button>
            <button mat-button type="submit" style="margin-left: 2%">
                Save
            </button>
        </form>
    </mat-dialog-content>
</div>
<mat-dialog-actions> </mat-dialog-actions>
